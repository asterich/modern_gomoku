# this is the build file for project 
# it is autogenerated by the xmake build system.
# do not edit by hand.

# project
cmake_minimum_required(VERSION 3.28.0)
set(CMAKE_C_COMPILER clang)
set(CMAKE_CXX_COMPILER clang++)
cmake_policy(SET CMP0091 NEW)
set(CMAKE_CXX_SCAN_FOR_MODULES ON)
project(gomoku LANGUAGES CXX)
set(CURRENT_COMPILER_ID ${CMAKE_CXX_COMPILER_ID})

include(FetchContent)
FetchContent_Declare(
  stdexec
  GIT_REPOSITORY https://github.com/NVIDIA/stdexec.git
  GIT_TAG        main
)
FetchContent_Declare(
  spdlog
  GIT_REPOSITORY https://github.com/gabime/spdlog.git
  GIT_TAG        v1.15.0
)
FetchContent_MakeAvailable(stdexec spdlog)

# target
add_executable(gomoku "")
set_target_properties(gomoku PROPERTIES OUTPUT_NAME "gomoku")
set_target_properties(gomoku PROPERTIES RUNTIME_OUTPUT_DIRECTORY "${CMAKE_SOURCE_DIR}/build/linux/x86_64/release")
target_compile_options(gomoku PRIVATE
    $<$<COMPILE_LANGUAGE:C>:-m64>
    $<$<COMPILE_LANGUAGE:CXX>:-m64>
    $<$<COMPILE_LANGUAGE:C>:-DNDEBUG>
    $<$<COMPILE_LANGUAGE:CXX>:-DNDEBUG>
    $<$<COMPILE_LANGUAGE:CXX>:-stdlib=libc++>
    $<$<COMPILE_LANGUAGE:CUDA>:-DNDEBUG>
)
set_target_properties(gomoku PROPERTIES CXX_EXTENSIONS OFF)
foreach(standard 26 23 20 17 14 11 98)
    include(CheckCXXCompilerFlag)
    if(CURRENT_COMPILER_ID STREQUAL "MSVC")
        check_cxx_compiler_flag("/std:c++${standard}" gomoku_support_c++_standard_${standard})
    else()
        check_cxx_compiler_flag("-std=c++${standard}" gomoku_support_c++_standard_${standard})
    endif()
    if(gomoku_support_c++_standard_${standard})
        target_compile_features(gomoku PRIVATE cxx_std_${standard})
        break()
    endif()
endforeach()
if(CURRENT_COMPILER_ID STREQUAL "MSVC")
    target_compile_options(gomoku PRIVATE $<$<CONFIG:Release>:-O2>)
else()
    target_compile_options(gomoku PRIVATE -O3)
endif()
if(CURRENT_COMPILER_ID STREQUAL "MSVC")
else()
    target_compile_options(gomoku PRIVATE -fvisibility=hidden)
endif()
if(CURRENT_COMPILER_ID STREQUAL "MSVC")
    set_property(TARGET gomoku PROPERTY
        MSVC_RUNTIME_LIBRARY "c++_shared")
endif()
target_link_libraries(gomoku PRIVATE
    system_context
    pthread
    stdexec
    spdlog::spdlog
)
target_link_options(gomoku PRIVATE
    -m64
)
# private sourcefiles from sourcebatch c++.build for target gomoku
target_sources(gomoku PRIVATE 
    main.cpp
    src/ChessInfo.cpp
    src/Pattern.cpp
    src/Player.cpp
    src/Tool.cpp
    src/Strings.cpp
    src/AI.cpp
    src/Point.cpp
    src/GameController.cpp
    src/Rule.cpp
    src/GameModes.cpp
    src/ChessView.cpp
)

